# 스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술
-------------
### 단원별 요점 정리

#### 웹 애플리케이션의 이해
- 모든게 http
- 웹 서버: 정적 페이지 처리
- 웹 애플리케이션 서버(WAS) : 동적 페이지 처리. 비즈니스 로직 같은거. 주로.
- 서블렛: http 요청 메시지를 받아 의미있는 단어로 파싱하고 객체로 만들어주고, 다시 응답할 객체를 응답 http 메시지로 만들어주는걸 대신 해줌
- 서블렛 컨테이너: 서블렛 객체를 관리. 생애주기 관리. 서블릿 객체는 싱글톤. 멀티쓰레드 지원. 쓰레드풀 관리.
- 톰캣 : WAS중 하나로, 서블릿 컨테이너만 있는 있는 WAS
- 서버에서의 통신은 결국 정적페이지, 동적페이지, api 이 3가지를 신경쓰면 돼.
  - 정적페이지는 순수 html 그냥 그대로 보내주면 되는거.
  - 동적페이지는 html를 조작해서 보내줘야함. 
    - SSR: 서버쪽에서 랜더링 다 해서 보내주는거. 과거에는 JSP 사용, 요즘에는 타임리프 사용.
    - CSR: 클라이언트쪽에서 랜더링. react나 vue.js 사용하는거.
      - 1_ 클 : 웹 페이지 get 요청
      - 2_ 섭 : html 내용 없고, js 링크 보내줌
      - 3_ 클 : js 파일 요청
      - 4_ 섭 : js, react소스코드, html 랜더링코드 등등 모든 화면 로직 소스코드 보내줌
      - 5_ 클 : (필요하다면) 여기 들어갈 데이터도 줘
      - 6_ 섭 : json 형태의 api로 데이터 보내줌.
      - 7_ 클 : 클라이언트쪽에서 html, js, api로 받은 데이터 잘 섞어서 화면 랜더링!
  - API는 클라이언트쪽이나 다른 서버쪽에 html를 보내는게 아니라 데이터, 객체를 보내는거야.

#### 서블릿
- **클라이언트쪽에서 보내는 http 요청 메시지의 종류는 크게 3가지**
  - 1_ get 쿼리파라미터로 보내는 경우. uri에 ? 다음으로 쿼리 넣어서 보내는거.
  - 2_ html form 으로 submit 하는 경우. 쿼리파라미터 형태의 데이터가 http 바디에 담겨져서 보내짐.
  - 3_ http api로 보내는 경우. http message body에 직접 데이터를 담아 보냄. 주로 json 형식.
   - 1과 2는 request.getParameter("username") 를 통해 value 가져올 수 있음.
   - 3은 jackson 라이브러리를 사용, objectMapper를 통해 string을 내가 만든 클래스 객체에 매핑시킬 수 있음
- http 응답 메시지
  - 넘길 content로는 단순 text, html, api 세가지 보낼 수 있어.
  - 그밖에 상태코드나, 인코딩방식, 여러가지 헤더값들을 지정해서 보낼 수 있음.
  - 주로 api 보낼텐데, 내가 만든 클래스 객체를 역시 objectMapper를 통해 json형태의 string 타입으로 변환해서 전달.

#### 서블릿, jsp, MVC패턴
- 서블릿으로 비즈니스 로직 처리하고 response body에 자바코드내에서 억지로 억지로 html을 한줄한줄 println 해서 보내는건, 너무 말도 안될정도로 번거로워. 오타날 가능성도 너무 크고.
- jsp에서는 <%  %> 이 문법을 통해서 상단에는 자바코드를, 하단에는 html을 만들어서 뷰를 그릴 수 있고, request와 responce도 바로 쓸 수 있긴한데, 그럼에도 한 페이지 안에서 뷰와 비즈니스로직을 다 짬뽕시켜서 코딩하는게 말이 안돼.
- 이러한 한계를 바탕으로 뷰와 비즈니스로직을 처리하는것을 분리하자는 아이디어가 나왔고 이게 MVC 패턴이야.




